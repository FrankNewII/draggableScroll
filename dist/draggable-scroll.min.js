!function(e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports)module.exports=e(require("jquery"));else{if("undefined"==typeof jQuery)throw new Error("DraggableScroll: Draggable scroll is depended on JQuery. \n            Please append JQuery to document before load DraggableScroll plugin.");e(jQuery)}}(function(a){a.fn.draggableScroll=function e(l){if(!(this instanceof e))return(l=e.validateConfig(l)).$element=this,new e(l);this._config=l,this._$scrolledElm=this._config.$element,this._pressed=!1,this._findElm()._appendStyles()._initListeners()};var l=a.fn.draggableScroll,e=a.fn.draggableScroll.prototype;l.validateConfig=function(e){switch(typeof e){case"object":return a.extend(l.defaultConfig,e);case"undefined":return a.extend(l.defaultConfig,{});default:throw new Error("DraggableScroll: Undefined type of config argument.")}},l.defaultConfig={scrollX:!0,scrollY:!0,dropOnMouseLeave:!1},e.scrollTo=function(e,l){var o="scroll"+e.charAt(0).toUpperCase()+e.slice(1),r=l?this._$scrolledElm[o](l):this._$scrolledElm[o]();return l&&console.log(arguments),l?this:r},e._findElm=function(){if(this._$scrolledWrapper=this._config.$element,this._$scrolledElm=this._config.$element.find("[data-draggable-scrolled-content]"),0===this._$scrolledElm.length)throw new Error("DraggableScroll: Cannon find scrolled content element. \n            Use [data-draggable-scrolled-content] inside [data-draggable-scroll] container.");if(1<this._$scrolledElm.length)throw new Error("DraggableScroll: Found more than one [data-draggable-scrolled-content] inside [data-draggable-scroll] container.");return this},e._appendStyles=function(){return this._$scrolledWrapper.css("user-select","none"),this._$scrolledElm.css({overflow:"scroll",height:"100%",width:"100%"}),this},e._initListeners=function(){var l,o,r,t,n,s=this;return this._$scrolledElm.on("mousedown",function(e){n=!0,l=e.clientX,o=e.clientY,r=s.scrollTo("left"),t=s.scrollTo("top"),s._$scrolledWrapper.addClass("scrollDraggable-draging")}).on("mouseup",function(){n=!1,s._$scrolledWrapper.removeClass("scrollDraggable-draging")}).on("mousemove",function(e){n&&(s._config.scrollX&&s.scrollTo("left",r+(l-e.clientX)),s._config.scrollY&&s.scrollTo("top",t+(o-e.clientY)))}),this._$scrolledWrapper.find("[data-draggable-scroll-control]").on("click",function(e){var l,o=a(e.target).data("draggableScrollControl").split(":"),r=o[0],t=parseInt(o[1]);switch(r){case"top":t=0-t,l=s.scrollTo("top");break;case"bottom":l=s.scrollTo("top"),r="top";break;case"left":l=s.scrollTo("left"),t=0-t;break;case"right":r="left",l=s.scrollTo("left")}s.scrollTo(r,l+t)}),this._config.dropOnMouseLeave&&this._$scrolledElm.on("mouseleave",function(){n=!1}),this};var o=a("[data-draggable-scroll]");o.length&&o.each(function(e,l){a(l).draggableScroll()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyYWdnYWJsZS1zY3JvbGwuanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwialF1ZXJ5IiwiRXJyb3IiLCIkIiwiZm4iLCJkcmFnZ2FibGVTY3JvbGwiLCJEcmFnZ2FibGVTY3JvbGwiLCJjb25maWciLCJ0aGlzIiwidmFsaWRhdGVDb25maWciLCIkZWxlbWVudCIsIl9jb25maWciLCJfJHNjcm9sbGVkRWxtIiwiX3ByZXNzZWQiLCJfZmluZEVsbSIsIl9hcHBlbmRTdHlsZXMiLCJfaW5pdExpc3RlbmVycyIsInN0YXRpY3MiLCJwcm90b3R5cGUiLCJjb25mIiwiZXh0ZW5kIiwiZGVmYXVsdENvbmZpZyIsInNjcm9sbFgiLCJzY3JvbGxZIiwiZHJvcE9uTW91c2VMZWF2ZSIsInNjcm9sbFRvIiwidHVybiIsInB4cyIsIm1ldGhvZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJ2YWwiLCJjb25zb2xlIiwibG9nIiwiYXJndW1lbnRzIiwiXyRzY3JvbGxlZFdyYXBwZXIiLCJmaW5kIiwibGVuZ3RoIiwiY3NzIiwib3ZlcmZsb3ciLCJoZWlnaHQiLCJ3aWR0aCIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0U2Nyb2xsWCIsInN0YXJ0U2Nyb2xsWSIsInByZXNzZWQiLCJzZWxmIiwib24iLCJldiIsImNsaWVudFgiLCJjbGllbnRZIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImN1cnJlbnRWYWwiLCJkYXRhIiwidGFyZ2V0Iiwic3BsaXQiLCJkaXJlY3Rpb24iLCJzdGVwIiwicGFyc2VJbnQiLCIkY29udGFpbmVycyIsImVhY2giLCJpIiwiZWwiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBQ0EsR0FBQSxtQkFBQUMsUUFBQUEsT0FBQUMsSUFFQUQsT0FBQSxDQUFBLFVBQUFELFFBQ0EsR0FBQSxpQkFBQUcsUUFBQUEsT0FBQUMsUUFFQUQsT0FBQUMsUUFBQUosRUFB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QixTQUFBLFFBQ0FtQyxFQUFBLEVBQUFBLEVBQ0EsTUFDQSxJQUFBLFFBQ0FELEVBQUEsT0FDQUosRUFBQVAsRUFBQXZCLFNBQUEsUUFJQXVCLEVBQUF2QixTQUFBa0MsRUFBQUosRUFBQUssS0FHQXBELEtBQUFHLFFBQUFhLGtCQUNBaEIsS0FBQUksY0FBQXFDLEdBQUEsYUFBQSxXQUNBRixHQUFBLElBSUF2QyxNQUdBLElBQUFzRCxFQUFBM0QsRUFBQSwyQkFFQTJELEVBQUF4QixRQUNBd0IsRUFBQUMsS0FBQSxTQUFBQyxFQUFBQyxHQUNBOUQsRUFBQThELEdBQUE1RCIsImZpbGUiOiJkcmFnZ2FibGUtc2Nyb2xsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgaWYgKHR5cGVvZiBqUXVlcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RyYWdnYWJsZVNjcm9sbDogRHJhZ2dhYmxlIHNjcm9sbCBpcyBkZXBlbmRlZCBvbiBKUXVlcnkuIFxcblxcXG4gICAgICAgICAgICBQbGVhc2UgYXBwZW5kIEpRdWVyeSB0byBkb2N1bWVudCBiZWZvcmUgbG9hZCBEcmFnZ2FibGVTY3JvbGwgcGx1Z2luLicpO1xuICAgICAgICB9XG4gICAgICAgIGZhY3RvcnkoalF1ZXJ5KTtcbiAgICB9XG59KGZ1bmN0aW9uICgkKSB7XG4gICAgJC5mbi5kcmFnZ2FibGVTY3JvbGwgPSBmdW5jdGlvbiBEcmFnZ2FibGVTY3JvbGwoY29uZmlnKSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEcmFnZ2FibGVTY3JvbGwpKSB7XG4gICAgICAgICAgICBjb25maWcgPSBEcmFnZ2FibGVTY3JvbGwudmFsaWRhdGVDb25maWcoY29uZmlnKTtcbiAgICAgICAgICAgIGNvbmZpZy4kZWxlbWVudCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERyYWdnYWJsZVNjcm9sbChjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl8kc2Nyb2xsZWRFbG0gPSB0aGlzLl9jb25maWcuJGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZmluZEVsbSgpXG4gICAgICAgICAgICAuX2FwcGVuZFN0eWxlcygpXG4gICAgICAgICAgICAuX2luaXRMaXN0ZW5lcnMoKTtcbiAgICB9O1xuXG4gICAgdmFyIHN0YXRpY3MgPSAkLmZuLmRyYWdnYWJsZVNjcm9sbDtcbiAgICB2YXIgcHJvdG90eXBlID0gJC5mbi5kcmFnZ2FibGVTY3JvbGwucHJvdG90eXBlO1xuXG4gICAgc3RhdGljcy52YWxpZGF0ZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25mKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIChjb25mKSkge1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5leHRlbmQoc3RhdGljcy5kZWZhdWx0Q29uZmlnLCBjb25mKTtcbiAgICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHN0YXRpY3MuZGVmYXVsdENvbmZpZywge30pO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RyYWdnYWJsZVNjcm9sbDogVW5kZWZpbmVkIHR5cGUgb2YgY29uZmlnIGFyZ3VtZW50LicpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHN0YXRpY3MuZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgICAgc2Nyb2xsWDogdHJ1ZSxcbiAgICAgICAgc2Nyb2xsWTogdHJ1ZSxcbiAgICAgICAgZHJvcE9uTW91c2VMZWF2ZTogZmFsc2VcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlLnNjcm9sbFRvID0gZnVuY3Rpb24gKHR1cm4sIHB4cykge1xuICAgICAgICB2YXIgbWV0aG9kID0gJ3Njcm9sbCcgKyB0dXJuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHVybi5zbGljZSgxKTtcbiAgICAgICAgdmFyIHZhbCA9IHB4cz90aGlzLl8kc2Nyb2xsZWRFbG1bbWV0aG9kXShweHMpOnRoaXMuXyRzY3JvbGxlZEVsbVttZXRob2RdKCk7XG5cbiAgICAgICAgaWYocHhzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHhzP3ZhbDp0aGlzO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGUuX2ZpbmRFbG0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXIgPSB0aGlzLl9jb25maWcuJGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuXyRzY3JvbGxlZEVsbSA9IHRoaXMuX2NvbmZpZy4kZWxlbWVudC5maW5kKCdbZGF0YS1kcmFnZ2FibGUtc2Nyb2xsZWQtY29udGVudF0nKTtcblxuICAgICAgICBpZiAodGhpcy5fJHNjcm9sbGVkRWxtLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRHJhZ2dhYmxlU2Nyb2xsOiBDYW5ub24gZmluZCBzY3JvbGxlZCBjb250ZW50IGVsZW1lbnQuIFxcblxcXG4gICAgICAgICAgICBVc2UgW2RhdGEtZHJhZ2dhYmxlLXNjcm9sbGVkLWNvbnRlbnRdIGluc2lkZSBbZGF0YS1kcmFnZ2FibGUtc2Nyb2xsXSBjb250YWluZXIuJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuXyRzY3JvbGxlZEVsbS5sZW5ndGggPiAxKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEcmFnZ2FibGVTY3JvbGw6IEZvdW5kIG1vcmUgdGhhbiBvbmUgW2RhdGEtZHJhZ2dhYmxlLXNjcm9sbGVkLWNvbnRlbnRdIGluc2lkZSBbZGF0YS1kcmFnZ2FibGUtc2Nyb2xsXSBjb250YWluZXIuJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZS5fYXBwZW5kU3R5bGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl8kc2Nyb2xsZWRXcmFwcGVyLmNzcygndXNlci1zZWxlY3QnLCdub25lJyk7XG4gICAgICAgIHRoaXMuXyRzY3JvbGxlZEVsbS5jc3Moe1xuICAgICAgICAgICAgJ292ZXJmbG93JzogJ3Njcm9sbCcsXG4gICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnLFxuICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCUnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZS5faW5pdExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhcnRYO1xuICAgICAgICB2YXIgc3RhcnRZO1xuICAgICAgICB2YXIgc3RhcnRTY3JvbGxYO1xuICAgICAgICB2YXIgc3RhcnRTY3JvbGxZO1xuICAgICAgICB2YXIgcHJlc3NlZDtcblxuICAgICAgICB0aGlzLl8kc2Nyb2xsZWRFbG1cbiAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgcHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RhcnRYID0gZXYuY2xpZW50WDtcbiAgICAgICAgICAgICAgICBzdGFydFkgPSBldi5jbGllbnRZO1xuICAgICAgICAgICAgICAgIHN0YXJ0U2Nyb2xsWCA9IHNlbGYuc2Nyb2xsVG8oJ2xlZnQnKTtcbiAgICAgICAgICAgICAgICBzdGFydFNjcm9sbFkgPSBzZWxmLnNjcm9sbFRvKCd0b3AnKTtcbiAgICAgICAgICAgICAgICBzZWxmLl8kc2Nyb2xsZWRXcmFwcGVyLmFkZENsYXNzKCdzY3JvbGxEcmFnZ2FibGUtZHJhZ2luZycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZi5fJHNjcm9sbGVkV3JhcHBlci5yZW1vdmVDbGFzcygnc2Nyb2xsRHJhZ2dhYmxlLWRyYWdpbmcnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIGlmKHByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fY29uZmlnLnNjcm9sbFggJiYgc2VsZi5zY3JvbGxUbygnbGVmdCcsIHN0YXJ0U2Nyb2xsWCArIChzdGFydFggLSBldi5jbGllbnRYKSApO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9jb25maWcuc2Nyb2xsWSAmJiBzZWxmLnNjcm9sbFRvKCd0b3AnLCBzdGFydFNjcm9sbFkgKyAoc3RhcnRZIC0gZXYuY2xpZW50WSkgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl8kc2Nyb2xsZWRXcmFwcGVyXG4gICAgICAgICAgICAuZmluZCgnW2RhdGEtZHJhZ2dhYmxlLXNjcm9sbC1jb250cm9sXScpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkKGV2LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkdGFyZ2V0LmRhdGEoJ2RyYWdnYWJsZVNjcm9sbENvbnRyb2wnKS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gcGFyc2VJbnQoZGF0YVsxXSk7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWw7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcCA9IDAgLSBzdGVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbCA9IHNlbGYuc2Nyb2xsVG8oJ3RvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsID0gc2VsZi5zY3JvbGxUbygndG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAndG9wJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWwgPSBzZWxmLnNjcm9sbFRvKCdsZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwID0gMCAtIHN0ZXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbCA9IHNlbGYuc2Nyb2xsVG8oJ2xlZnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuc2Nyb2xsVG8oZGlyZWN0aW9uLCBjdXJyZW50VmFsICsgc3RlcCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmRyb3BPbk1vdXNlTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRzY3JvbGxlZEVsbS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICB2YXIgJGNvbnRhaW5lcnMgPSAkKCdbZGF0YS1kcmFnZ2FibGUtc2Nyb2xsXScpO1xuXG4gICAgaWYoJGNvbnRhaW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICRjb250YWluZXJzLmVhY2goZnVuY3Rpb24gKGksIGVsKSB7XG4gICAgICAgICAgICAkKGVsKS5kcmFnZ2FibGVTY3JvbGwoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkpOyJdfQ==
